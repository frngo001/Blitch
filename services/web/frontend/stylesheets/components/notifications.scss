@mixin light-notification {
  --notification-bg-info: var(--bg-info-03);
  --notification-bg-success: var(--bg-accent-03);
  --notification-bg-warning: var(--bg-warning-03);
  --notification-bg-error: var(--bg-danger-03);
  --notification-bg-offer: var(--bg-light-primary);
  --notification-border-info: var(--blue-20);
  --notification-border-success: var(--green-20);
  --notification-border-warning: var(--yellow-20);
  --notification-border-error: var(--red-20);
  --notification-border-offer: var(--neutral-20);
  --notification-icon-info: var(--blue-50);
  --notification-icon-success: var(--green-50);
  --notification-icon-warning: var(--yellow-40);
  --notification-icon-error: var(--red-50);
  --notification-icon-offer: var(--neutral-50);
  --notification-content-primary: var(--content-primary);
  --notification-content-secondary: var(--content-secondary);
  --notification-bg-primary: var(--neutral-90);
  --notification-reconfirmation-bg: var(--bg-light-secondary);
  --notification-disclaimer-color: var(--neutral-60);
  --notification-close-btn-bg: rgb(27 34 44 / 8%);
}

@mixin dark-notification {
  --notification-bg-info: var(--blue-70);
  --notification-bg-success: var(--green-70);
  --notification-bg-warning: var(--yellow-70);
  --notification-bg-error: var(--red-70);
  --notification-bg-offer: var(--neutral-70);
  --notification-border-info: var(--blue-60);
  --notification-border-success: var(--green-60);
  --notification-border-warning: var(--yellow-60);
  --notification-border-error: var(--red-60);
  --notification-border-offer: var(--neutral-60);
  --notification-icon-info: var(--blue-30);
  --notification-icon-success: var(--green-30);
  --notification-icon-warning: var(--yellow-20);
  --notification-icon-error: var(--red-20);
  --notification-icon-offer: var(--neutral-20);
  --notification-content-primary: var(--content-primary-dark);
  --notification-content-secondary: var(--content-secondary-dark);
  --notification-bg-primary: var(--neutral-10);
  --notification-reconfirmation-bg: var(--bg-dark-secondary);
  --notification-disclaimer-color: var(--neutral-40);
  --notification-close-btn-bg: rgb(255 255 255 / 8%);
}

:root {
  @include light-notification;

  @include theme('default') {
    .project-ds-nav-page {
      .notification {
        @include dark-notification;
        @include dark-bg;
      }
    }
  }
}

.notification-body {
  // will be deprecated once notifications moved to use .notification (see below)
  flex-grow: 1;
  width: 90%;

  @include media-breakpoint-up(md) {
    width: auto;
  }
}

.notification-action {
  $line-height-computed: $font-size-base * $line-height-base; // 24px

  // will be deprecated once notifications moved to use .notification (see below)
  margin-top: calc($line-height-computed / 2); // match paragraph padding
  order: 1;

  @include media-breakpoint-up(md) {
    margin-top: 0;
    order: 0;
    padding-left: $spacing-05;
  }
}

.notification-close {
  // will be deprecated once notifications moved to use .notification (see below)
  padding-left: $spacing-05;
  text-align: right;
  width: 10%;

  button {
    aspect-ratio: 1;
    border-radius: 50%;
    display: flex;
    float: right;
    padding: 5.5px;
    cursor: pointer;
    background: transparent;
    border: 0;

    &:hover,
    &:focus {
      background-color: var(--notification-close-btn-bg);
      color: var(--notification-content-secondary);
    }
  }

  @include media-breakpoint-up(md) {
    width: auto;
  }
}

.notification {
  border-radius: $border-radius-base;
  color: var(--notification-content-primary);
  display: flex;
  padding: 0 $spacing-06; // vertical padding added by elements within notification
  width: 100%;

  a:not(.btn) {
    text-decoration: underline;
  }

  p {
    margin-bottom: $spacing-02;
  }

  .notification-icon {
    flex-grow: 0;
    padding: 18px $spacing-06 0 0;
  }

  .notification-icon.notification-icon-center {
    padding-top: 0;
    display: flex;
    align-items: center;
  }

  .notification-content-and-cta {
    // shared container to align cta with text on smaller screens
    display: flex;
    flex-grow: 1;
    flex-wrap: wrap;

    p:last-child {
      margin-bottom: 0;
    }
  }

  .notification-content {
    flex-grow: 1;
    padding: $spacing-06 0;
    width: 100%;
  }

  .notification-cta {
    padding-bottom: $spacing-06;

    a {
      font-weight: 700;
    }

    a,
    button {
      white-space: nowrap;
    }
  }

  .notification-disclaimer {
    color: var(--notification-disclaimer-color);
    font-size: $font-size-sm;
    padding-bottom: $spacing-06;
  }

  .notification-close-btn {
    height: $spacing-12;
    align-items: center;
    display: flex;
    padding: 0 0 0 $spacing-06;

    button {
      aspect-ratio: 1;
      border-radius: 50%;
      display: flex;
      float: right;
      padding: 5.5px;
      cursor: pointer;
      background: transparent;
      border: 0;
      color: var(--notification-content-primary);

      &:hover,
      &:focus {
        background-color: var(--notification-close-btn-bg);
        color: var(--notification-content-secondary);
      }
    }
  }

  &.notification-type-info {
    background-color: var(--notification-bg-info);
    border: 1px solid var(--notification-border-info);

    .notification-icon {
      color: var(--notification-icon-info);
    }
  }

  &.notification-type-success {
    background-color: var(--notification-bg-success);
    border: 1px solid var(--notification-border-success);

    .notification-icon {
      color: var(--notification-icon-success);
    }
  }

  &.notification-type-warning {
    background-color: var(--notification-bg-warning);
    border: 1px solid var(--notification-border-warning);

    .notification-icon {
      color: var(--notification-icon-warning);
    }
  }

  &.notification-type-error {
    background-color: var(--notification-bg-error);
    border: 1px solid var(--notification-border-error);

    .notification-icon {
      color: var(--notification-icon-error);
    }
  }

  &.notification-type-offer {
    background-color: var(--notification-bg-offer);
    border: 1px solid var(--notification-border-offer);

    .notification-icon {
      color: var(--notification-icon-offer);
    }
  }

  @include media-breakpoint-up(md) {
    &:not(.notification-cta-below-content) {
      .notification-content-and-cta {
        flex-wrap: nowrap;
      }

      .notification-content {
        width: auto;
      }

      .notification-cta {
        height: $spacing-12;
        padding-left: $spacing-06;
        padding-bottom: 0;
        align-items: center;
        display: flex;
      }
    }
  }
}

.notification-with-scroll-margin {
  scroll-margin: $spacing-06;
}

.notification-list {
  .notification {
    margin-bottom: $spacing-07;
  }
}

// Reconfirmation notification

.reconfirm-notification {
  display: flex;
  width: 100%;

  .fa-warning {
    margin-right: $spacing-05;
  }

  .btn-reconfirm {
    float: right;
    margin-left: $spacing-05;
    text-transform: capitalize;
  }
}

.group-invitation-cancel-subscription-notification-buttons {
  display: flex;
  align-items: center;
}

// Settings page
.affiliations-table {
  .reconfirm-notification {
    margin: 0 auto $spacing-05 !important;
    padding: $spacing-07;
  }

  .reconfirm-row {
    td {
      border: 0;

      .alert {
        border: 0;
        padding: 0;
      }

      :not(.alert) {
        .reconfirm-notification {
          background-color: var(--notification-reconfirmation-bg);
          border-radius: $border-radius-base;

          .fa-warning {
            color: var(--notification-icon-warning);
          }
        }
      }
    }
  }
}

// Only apply bottom margin to form messages when it is non-empty
.form-messages-bottom-margin > :last-child {
  margin-bottom: var(--spacing-06);
}

// ============================================
// Dark Theme Override - Blitch Monochrome Style
// Consistent with AI Chat, Team Chat, Settings
// Colored notification icons/borders preserved
// ============================================

$notif-bg-dark: #0D0D0D;
$notif-bg-panel: #1C1C1C;
$notif-text-primary: #FFFFFF;
$notif-text-secondary: #A0A0A0;
$notif-text-muted: #666666;
$notif-border-subtle: rgba(255, 255, 255, 0.08);
$notif-border-default: rgba(255, 255, 255, 0.12);

.ide-redesign-main {
  // Override notification CSS variables for dark theme
  --notification-bg-info: rgba(59, 130, 246, 0.15);
  --notification-bg-success: rgba(34, 197, 94, 0.15);
  --notification-bg-warning: rgba(234, 179, 8, 0.15);
  --notification-bg-error: rgba(239, 68, 68, 0.15);
  --notification-bg-offer: #{$notif-bg-panel};
  --notification-border-info: rgba(59, 130, 246, 0.3);
  --notification-border-success: rgba(34, 197, 94, 0.3);
  --notification-border-warning: rgba(234, 179, 8, 0.3);
  --notification-border-error: rgba(239, 68, 68, 0.3);
  --notification-border-offer: #{$notif-border-default};
  --notification-icon-info: #3b82f6;
  --notification-icon-success: var(--green-50);
  --notification-icon-warning: #eab308;
  --notification-icon-error: #ef4444;
  --notification-icon-offer: #{$notif-text-secondary};
  --notification-content-primary: #{$notif-text-primary};
  --notification-content-secondary: #{$notif-text-secondary};
  --notification-bg-primary: #{$notif-bg-panel};
  --notification-reconfirmation-bg: #{$notif-bg-panel};
  --notification-disclaimer-color: #{$notif-text-muted};
  --notification-close-btn-bg: rgba(255, 255, 255, 0.08);

  .notification {
    border-radius: 10px;
    backdrop-filter: blur(8px);

    a:not(.btn) {
      color: $notif-text-primary;
      text-decoration-color: rgba(255, 255, 255, 0.4);

      &:hover {
        text-decoration-color: rgba(255, 255, 255, 0.8);
      }
    }

    .notification-content {
      color: $notif-text-primary;

      p {
        color: $notif-text-secondary;
      }

      strong,
      b {
        color: $notif-text-primary;
      }
    }

    .notification-cta {
      a,
      .btn {
        color: $notif-text-primary;
      }

      .btn-primary {
        background: var(--green-50);
        border-color: var(--green-50);
        color: #FFFFFF;

        &:hover {
          background: var(--green-40);
          border-color: var(--green-40);
        }
      }

      .btn-secondary {
        background: $notif-bg-panel;
        border: 1px solid $notif-border-default;
        color: $notif-text-secondary;

        &:hover {
          background: #2A2A2A;
          color: $notif-text-primary;
        }
      }
    }

    .notification-close-btn button {
      color: $notif-text-muted;
      transition: all 0.15s;

      &:hover,
      &:focus {
        background: rgba(255, 255, 255, 0.1);
        color: $notif-text-primary;
      }
    }

    // Type-specific styling with preserved colors
    &.notification-type-info {
      .notification-icon {
        color: #3b82f6;
      }
    }

    &.notification-type-success {
      .notification-icon {
        color: var(--green-50);
      }
    }

    &.notification-type-warning {
      .notification-icon {
        color: #eab308;
      }
    }

    &.notification-type-error {
      .notification-icon {
        color: #ef4444;
      }
    }

    &.notification-type-offer {
      background: $notif-bg-panel;
      border-color: $notif-border-default;

      .notification-icon {
        color: $notif-text-secondary;
      }
    }
  }

  .notification-list {
    .notification {
      margin-bottom: var(--spacing-04);
    }
  }

  // Reconfirmation notification
  .reconfirm-notification {
    background: $notif-bg-panel;
    border: 1px solid $notif-border-default;
    border-radius: 10px;
    color: $notif-text-primary;

    .fa-warning {
      color: #eab308;
    }

    .btn-reconfirm {
      background: var(--green-50);
      border-color: var(--green-50);
      color: #FFFFFF;

      &:hover {
        background: var(--green-40);
        border-color: var(--green-40);
      }
    }
  }

  // Settings page affiliations
  .affiliations-table {
    .reconfirm-row td {
      :not(.alert) {
        .reconfirm-notification {
          background: $notif-bg-panel;
          border: 1px solid rgba(234, 179, 8, 0.3);
        }
      }
    }
  }

  // Form messages
  .form-messages-bottom-margin {
    .notification {
      margin-bottom: var(--spacing-04);
    }
  }
}
